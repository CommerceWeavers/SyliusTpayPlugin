(()=>{var e={85:()=>{function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw r}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("test-connection-button"),n=document.getElementById("test-connection-message"),r="";null!==t&&null!==n&&t.addEventListener("click",function(){var t=document.getElementsByName("sylius_payment_method[gatewayConfig][config][production_mode]")[0],a=document.getElementsByName("sylius_payment_method[gatewayConfig][config][client_id]")[0],i=document.getElementsByName("sylius_payment_method[gatewayConfig][config][client_secret]")[0],s=void 0!==t?t.value:"false",c=void 0!==a?a.value:"",l=void 0!==i?i.value:"";fetch("/admin/tpay/channels?productionMode="+s,{method:"GET",headers:{"Content-Type":"application/json","X-Client-Id":c,"X-Client-Secret":l}}).then(function(e){return e.json().then(function(t){if(r=e.headers.get("Content-Language"),!e.ok)throw new Error;return t})}).then(function(t){!function(t){var n=document.getElementsByName("sylius_payment_method[gatewayConfig][config][tpay_channel_id]")[0];if(void 0!==n){var o=n.value;if("input"===n.tagName.toLowerCase()&&"text"===n.type){var r=document.createElement("select");r.name=n.name,r.id=n.id,r.className=n.className,r.dataset.displayAllLabel=n.dataset.displayAllLabel,n.replaceWith(r),n=r}n.innerHTML="";for(var a=0,i=Object.entries(t);a<i.length;a++){var s=e(i[a],2),c=s[0],l=s[1],u=document.createElement("option");u.value=c,u.text=l,c===o&&(u.selected=!0),n.appendChild(u)}}}(t),n.innerText=o(r,"success"),n.classList.remove("negative"),n.classList.add("positive")}).catch(function(){n.innerText=o(r,"error"),n.classList.remove("positive"),n.classList.add("negative")})})});var n={en:{connectionTest:{success:"Connection test successful. Channels loaded.",error:"Connection test failed. Please check your credentials and try again."}},pl:{connectionTest:{success:"Test połączenia powiódł się. Kanały załadowane.",error:"Test połączenia nie powiódł się. Sprawdź swoje dane uwierzytelniające i spróbuj ponownie."}}};function o(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"connectionTest",a=e.startsWith("pl")?"pl":"en",i=null===(t=n[a])||void 0===t?void 0:t[r];return(null==i?void 0:i[o])||(null==i?void 0:i.success)||n.en[r].success}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(85)})()})();