# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices/configuration.html#application-related-configuration
parameters:
    locale: en_US

services:
    CommerceWeavers\SyliusTpayPlugin\Form\Type\PaymentMethodImageType:
        arguments:
            $dataClass: '%sylius.model.payment_method_image.class%'
        tags:
            - { name: form.type }
    
    sylius.listener.payment_method.image_upload:
        class: Sylius\Bundle\CoreBundle\EventListener\ImageUploadListener
        arguments:
            $uploader: '@sylius.uploader.image'
        tags:
            - { name: kernel.event_listener, event: sylius.payment_method.pre_create, method: uploadImage }
            - { name: kernel.event_listener, event: sylius.payment_method.pre_update, method: uploadImage }

    sylius.payment_method_image.remove.action:
        class: App\Action\Admin\RemovePaymentMethodImageAction
        arguments:
            $paymentMethodImageRepository: '@sylius.repository.payment_method_image'
            $router: '@router'
            $csrfTokenManager: '@security.csrf.token_manager'
        public: true
